<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haakgaren Winkel | 93 Geteste Producten</title>
    <meta name="description" content="Officiële Haakgaren winkel - 93 haakgarens getest, vergeleken en geselecteerd.">
    <link rel="stylesheet" href="style.css">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;600;700&family=DM+Serif+Display:ital,wght@0,400&display=swap" rel="stylesheet">
    
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Breadcrumbs -->
    <nav style="background: #f8f9fa; padding: 0.5rem 0; font-size: 0.9rem;">
        <div class="container">
            <a href="index.html" style="color: #666; text-decoration: none;">Home</a> > 
            <span style="color: #9C27B0; font-weight: 600;">Winkel</span>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.92), rgba(123, 31, 162, 0.88)), url('https://images.unsplash.com/photo-1600166898405-da9535204843?w=1600&q=80') center/cover; min-height: 500px; display: flex; align-items: center; color: white; position: relative;">
        <div class="container" style="text-align: center; position: relative; z-index: 2;">
            <div style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 20px; padding: 3rem 2rem; max-width: 800px; margin: 0 auto; border: 1px solid rgba(255,255,255,0.2);">
                <h1 style="font-size: 3.5rem; margin-bottom: 1rem; font-weight: 700; background: linear-gradient(45deg, #fff, #f0f0f0); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: none;">
                    Haakgaren Winkel
                </h1>
                <p style="font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.95; font-weight: 500;">
                    <span id="total-products">93</span> haakgarens getest en geselecteerd
                </p>
                
                <!-- Barre recherche -->
                <div style="max-width: 500px; margin: 0 auto 2rem; position: relative;">
                    <input type="text" id="search-input" placeholder="Zoek je perfecte haakgaren..." 
                           style="width: 100%; padding: 1.2rem 1.5rem; border: none; border-radius: 30px; font-size: 1.1rem; box-shadow: 0 8px 25px rgba(0,0,0,0.3); background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);">
                </div>
                
                <!-- Trust badges -->
                <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                    <div style="background: rgba(255,255,255,0.2); padding: 0.8rem 1.2rem; border-radius: 25px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.3); font-weight: 600;">
                        93 producten getest
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 0.8rem 1.2rem; border-radius: 25px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.3); font-weight: 600;">
                        Onafhankelijke reviews
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 0.8rem 1.2rem; border-radius: 25px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.3); font-weight: 600;">
                        Expert advies
                    </div>
                </div>
            </div>
        </div>
        
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.1) 100%); z-index: 1;"></div>
    </section>

    <main class="container" style="padding: 3rem 0;">
        
        <!-- Filtres et tri -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; padding: 1.5rem; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); flex-wrap: wrap; gap: 1rem;">
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
                <strong id="results-count">93 producten</strong>
                
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="range" id="filter-prijs" min="0" max="150" value="150" onchange="applyFilters()" style="width: 120px;">
                    <span id="prijs-display">€0-150</span>
                </div>
            </div>
            
            <div style="display: flex; gap: 1rem; align-items: center;">
                <label>Sorteren:</label>
                <select id="sort-select" onchange="sortProducts()" style="padding: 0.8rem; border: 2px solid #e0e0e0; border-radius: 8px; background: white;">
                    <option value="populair">Populairiteit</option>
                    <option value="prijs-laag">Prijs laag-hoog</option>
                    <option value="prijs-hoog">Prijs hoog-laag</option>
                    <option value="rating">Best beoordeeld</option>
                    <option value="naam">Naam A-Z</option>
                </select>
                
                <button onclick="clearFilters()" style="padding: 0.8rem 1.2rem; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                    Wis filters
                </button>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading-indicator" style="text-align: center; padding: 3rem; display: block;">
            <div style="display: inline-block; width: 50px; height: 50px; border: 3px solid #f3f3f3; border-top: 3px solid #9C27B0; border-radius: 50%; animation: spin 1s linear infinite;"></div>
            <p style="margin-top: 1rem; color: #666;">Producten laden...</p>
        </div>

        <!-- Grille produits -->
        <div id="products-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
        </div>
        
        <!-- Pagination -->
        <div id="pagination" style="display: flex; justify-content: center; align-items: center; gap: 1rem; margin-bottom: 3rem; flex-wrap: wrap;">
        </div>
    </main>

    <script>
    let allProducts = [];
    let currentPage = 1;
    const productsPerPage = 12;
    let filteredProducts = [];

    document.addEventListener('DOMContentLoaded', async function() {
        try {
            const response = await fetch('all_products.json');
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            
            allProducts = await response.json();
            console.log(`${allProducts.length} produits chargés`);
            
            filteredProducts = [...allProducts];
            hideLoadingIndicator();
            displayProducts();
            updatePagination();
        } catch (error) {
            console.error('Erreur:', error);
            hideLoadingIndicator();
        }
    });

    function hideLoadingIndicator() {
        document.getElementById('loading-indicator').style.display = 'none';
    }

    function displayProducts() {
        const grid = document.getElementById('products-grid');
        grid.innerHTML = '';
        
        const startIndex = (currentPage - 1) * productsPerPage;
        const endIndex = startIndex + productsPerPage;
        const productsToShow = filteredProducts.slice(startIndex, endIndex);
        
        productsToShow.forEach((product, index) => {
            const productCard = createProductCard(product, startIndex + index + 1);
            grid.appendChild(productCard);
        });
        
        document.getElementById('results-count').textContent = `${filteredProducts.length} producten`;
    }

    function createProductCard(product, position) {
        const card = document.createElement('div');
        card.className = 'product-card';
        
        card.innerHTML = `
            <div style="background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1); position: relative; transition: all 0.3s ease; height: 100%;">
                <div style="position: absolute; top: 15px; right: 15px; background: #9C27B0; color: white; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">
                    #${position}
                </div>
                
                <img src="${product.image}" alt="${product.name}" 
                     style="width: 100%; height: 220px; object-fit: contain; object-position: center; background: #f8f9fa; border-radius: 8px; margin-bottom: 1rem;"
                     onerror="this.src='images/placeholder.jpg'">
                
                <h3 style="font-size: 1.1rem; margin-bottom: 0.8rem; line-height: 1.3; min-height: 2.6rem; overflow: hidden;">${product.name}</h3>
                
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.8rem;">
                    <div style="color: #ffd700; font-size: 1.1rem;">
                        ${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}
                    </div>
                    <span style="font-size: 0.9rem; color: #666;">${product.rating} (${product.reviews})</span>
                </div>
                
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 1.5rem; line-height: 1.4; max-height: 4.2rem; overflow: hidden;">
                    ${product.description}
                </p>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <span style="font-size: 1.4rem; font-weight: bold; color: #9C27B0;">€${product.price.toFixed(2)}</span>
                    <span style="background: #e8f5e8; color: #2d5a2d; padding: 0.3rem 0.8rem; border-radius: 12px; font-size: 0.8rem; font-weight: 600;">Op voorraad</span>
                </div>
                
                <a href="produits/${product.slug}.html" class="btn btn-primary" 
                   style="display: block; text-align: center; padding: 0.8rem; background: #9C27B0; color: white; text-decoration: none; border-radius: 8px; font-size: 0.9rem; font-weight: 600; transition: all 0.3s ease;">
                    Bekijk details
                </a>
            </div>
        `;
        
        return card;
    }

    function updatePagination() {
        const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
        const pagination = document.getElementById('pagination');
        pagination.innerHTML = '';
        
        if (totalPages <= 1) return;
        
        if (currentPage > 1) {
            const prevBtn = document.createElement('button');
            prevBtn.textContent = '← Vorige';
            prevBtn.onclick = () => { currentPage--; displayProducts(); updatePagination(); };
            prevBtn.style.cssText = 'padding: 0.8rem 1.2rem; background: #9C27B0; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;';
            pagination.appendChild(prevBtn);
        }
        
        const startPage = Math.max(1, currentPage - 2);
        const endPage = Math.min(totalPages, currentPage + 2);
        
        for (let i = startPage; i <= endPage; i++) {
            const pageBtn = document.createElement('button');
            pageBtn.textContent = i;
            pageBtn.onclick = () => { currentPage = i; displayProducts(); updatePagination(); };
            pageBtn.style.cssText = `padding: 0.8rem 1rem; border: 2px solid #9C27B0; background: ${i === currentPage ? '#9C27B0' : 'white'}; color: ${i === currentPage ? 'white' : '#9C27B0'}; border-radius: 8px; cursor: pointer; font-weight: 600; min-width: 45px;`;
            pagination.appendChild(pageBtn);
        }
        
        if (currentPage < totalPages) {
            const nextBtn = document.createElement('button');
            nextBtn.textContent = 'Volgende →';
            nextBtn.onclick = () => { currentPage++; displayProducts(); updatePagination(); };
            nextBtn.style.cssText = 'padding: 0.8rem 1.2rem; background: #9C27B0; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;';
            pagination.appendChild(nextBtn);
        }
    }

    function applyFilters() {
        const maxPrijs = document.getElementById('filter-prijs').value;
        document.getElementById('prijs-display').textContent = `€0-${maxPrijs}`;
        
        filteredProducts = allProducts.filter(product => product.price <= maxPrijs);
        
        currentPage = 1;
        displayProducts();
        updatePagination();
    }
    
    function clearFilters() {
        document.getElementById('filter-prijs').value = '150';
        document.getElementById('sort-select').value = 'populair';
        applyFilters();
    }
    
    function sortProducts() {
        const sortBy = document.getElementById('sort-select').value;
        
        filteredProducts.sort((a, b) => {
            switch(sortBy) {
                case 'prijs-laag': return a.price - b.price;
                case 'prijs-hoog': return b.price - a.price;
                case 'rating': return b.rating - a.rating;
                case 'naam': return a.name.localeCompare(b.name);
                default: return 0;
            }
        });
        
        currentPage = 1;
        displayProducts();
        updatePagination();
    }
    
    // Search
    document.getElementById('search-input').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        filteredProducts = allProducts.filter(p => 
            p.name.toLowerCase().includes(searchTerm) || 
            p.description.toLowerCase().includes(searchTerm)
        );
        currentPage = 1;
        displayProducts();
        updatePagination();
    });
    </script>
</body>
</html>